{"remainingRequest":"F:\\WebStorm\\new\\node_modules\\babel-loader\\lib\\index.js!F:\\WebStorm\\new\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\WebStorm\\new\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\WebStorm\\new\\src\\views\\Customer\\Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\WebStorm\\new\\src\\views\\Customer\\Index.vue","mtime":1536290331574},{"path":"F:\\WebStorm\\new\\babel.config.js","mtime":1536225392373},{"path":"F:\\WebStorm\\new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637058075377},{"path":"F:\\WebStorm\\new\\node_modules\\babel-loader\\lib\\index.js","mtime":1636697064810},{"path":"F:\\WebStorm\\new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637058075377},{"path":"F:\\WebStorm\\new\\node_modules\\vue-loader\\lib\\index.js","mtime":1628769447361}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"F:\\\\WebStorm\\\\new\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState } from 'vuex';\nimport actions from '@/store/action-types';\nexport default {\n  data: function data() {\n    var _this = this;\n\n    return {\n      pageNum: 1,\n      pageSize: 5,\n      model: {\n        show: false,\n        title: '你确定要删除这行内容么？',\n        id: null,\n        content: '',\n        loading: false\n      },\n      detail: {\n        show: false\n      },\n      search: {\n        type: 'householdId',\n        keyword: ''\n      },\n      columns: [{\n        title: '姓名',\n        key: 'residentName'\n      }, {\n        title: '性别',\n        key: 'sex'\n      }, {\n        title: '民族',\n        key: 'nation'\n      }, {\n        title: '出生日期',\n        key: 'birthdate'\n      }, {\n        title: '联系方式',\n        key: 'contact'\n      }, {\n        title: '证件号',\n        key: 'idNumber'\n      }, {\n        title: '户号',\n        key: 'householdId'\n      }, {\n        title: '纳入库名单',\n        key: 'isInList',\n        align: 'center'\n      }, {\n        title: '操作',\n        key: 'action',\n        align: 'center',\n        width: 200,\n        render: function render(h, params) {\n          return h('div', [h('Button', {\n            props: {\n              type: 'text',\n              size: 'small'\n            },\n            on: {\n              click: function click() {\n                _this.show(params.row);\n              }\n            }\n          }, '查看'),\n          /* h('Button', {\r\n            props: {\r\n              type: 'text',\r\n              size: 'small'\r\n            },\r\n            on: {\r\n              click: () => {\r\n                this.edit(params.row)\r\n              }\r\n            }\r\n          }, '编辑'), */\n          h('Button', {\n            props: {\n              type: 'text',\n              size: 'small'\n            },\n            on: {\n              click: function click() {\n                _this.delete(params.row);\n              }\n            }\n          }, '删除')]);\n        }\n      }]\n    };\n  },\n  computed: _objectSpread({}, mapState({\n    list: function list(state) {\n      return state.customer.list;\n    },\n    person: function person(state) {\n      return state.customer.person;\n    },\n    total: function total(state) {\n      return state.customer.total;\n    }\n  })),\n  mounted: function mounted() {\n    // 获取列表\n    this.fetchList();\n  },\n  methods: {\n    fetchList: function fetchList() {\n      return this.$store.dispatch(actions.get.RESIDENT_LIST, {\n        pageNum: this.pageNum,\n        pageSize: this.pageSize\n      });\n    },\n    changePage: function changePage(num) {\n      console.log(num);\n      this.pageNum = num;\n      this.fetchList();\n    },\n    show: function show(row) {\n      this.$store.dispatch(actions.get.RESIDENT_PERSON, row.residentId);\n      this.detail.show = true;\n    },\n    edit: function edit() {\n      console.log('edit');\n    },\n    delete: function _delete(row) {\n      this.model.data = row;\n      this.model.content = row.residentName;\n      this.model.id = row.residentId;\n      this.model.show = true;\n    },\n    deleteUser: function deleteUser() {\n      var _this2 = this;\n\n      this.model.loading = true;\n      setTimeout(function () {\n        _this2.model.loading = false;\n        _this2.model.show = false;\n        console.log(_this2.model.id);\n\n        _this2.$store.dispatch(actions.delete.RESIDENT_PERSON, _this2.model.id);\n\n        _this2.$Message.success('删除成功');\n      }, 2000);\n    }\n  }\n};",{"version":3,"sources":["Index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"page\">\r\n    <div class=\"search\">\r\n      <Input v-model=\"search.keyword\">\r\n        <Select v-model=\"search.type\" slot=\"prepend\" style=\"width: 80px\">\r\n          <Option value=\"householdId\">户号</Option>\r\n          <Option value=\"name\">姓名</Option>\r\n          <Option value=\"idNumber\">证件号</Option>\r\n        </Select>\r\n      </Input>\r\n      <Button type=\"primary\" icon=\"ios-search\">查询</Button>\r\n    </div>\r\n    <div class=\"button-group\">\r\n      <Button class=\"create\" to=\"/customer/add\" type=\"primary\" icon=\"ios-add\">新建</Button>\r\n    </div>\r\n    <div class=\"table\">\r\n      <Table :columns=\"columns\" :data=\"list\"></Table>\r\n    </div>\r\n    <div class=\"pagination\">\r\n      <div class=\"text\">共{{ total }}条记录 第 {{ pageNum }} / {{ Math.ceil(total / pageSize) }} 页</div>\r\n      <Page class=\"pager\" :current=\"pageNum\" :page-size=\"pageSize\" :total=\"total\" @on-change=\"changePage\" show-elevator />\r\n    </div>\r\n    <Modal\r\n      v-model=\"model.show\"\r\n      width=\"320\">\r\n      <p slot=\"header\" style=\"color:#f60;text-align:center\">\r\n        <Icon type=\"ios-information-circle\"></Icon>\r\n        <span>你确定要删除这行内容么？</span>\r\n      </p>\r\n      <div style=\"text-align:center\">\r\n        <p>{{ model.content }}</p>\r\n      </div>\r\n      <div slot=\"footer\">\r\n        <Button type=\"error\" size=\"large\" long :loading=\"model.loading\" @click=\"deleteUser\">删除</Button>\r\n      </div>\r\n    </Modal>\r\n    <Modal\r\n      width=\"50%\"\r\n      v-model=\"detail.show\"\r\n      :footer-hide=\"true\"\r\n      title=\"客户详情\">\r\n      <table class=\"detail-table\">\r\n        <tr>\r\n          <td width=\"15%\">姓名：</td>\r\n          <td width=\"35%\">{{ person.residentName }}</td>\r\n          <td width=\"18%\">名族：</td>\r\n          <td width=\"32%\">{{ person.nation }}</td>\r\n        </tr>\r\n        <tr>\r\n          <td>性别：</td>\r\n          <td>{{ person.sex }}</td>\r\n          <td>出生日期：</td>\r\n          <td>{{ person.birthdate }}</td>\r\n        </tr>\r\n        <tr>\r\n          <td>联系方式：</td>\r\n          <td>{{ person.contact }}</td>\r\n          <td>证件号码：</td>\r\n          <td>{{ person.idNumber }}</td>\r\n        </tr>\r\n        <tr>\r\n          <td>户别：</td>\r\n          <td>{{ person.householdType }}</td>\r\n          <td>户号：</td>\r\n          <td>{{ person.householdId }}</td>\r\n        </tr>\r\n        <tr>\r\n          <td>户主关系：</td>\r\n          <td>{{ person.relationship }}</td>\r\n          <td>纳入库名单：</td>\r\n          <td>{{ person.isInList }}</td>\r\n        </tr>\r\n        <tr>\r\n          <td>地址：</td>\r\n          <td>{{ person.address }}</td>\r\n          <td>备注：</td>\r\n          <td>{{ person.remark }}</td>\r\n        </tr>\r\n      </table>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport actions from '@/store/action-types'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      pageNum: 1,\r\n      pageSize: 5,\r\n      model: {\r\n        show: false,\r\n        title: '你确定要删除这行内容么？',\r\n        id: null,\r\n        content: '',\r\n        loading: false\r\n      },\r\n      detail: {\r\n        show: false\r\n      },\r\n      search: {\r\n        type: 'householdId',\r\n        keyword: ''\r\n      },\r\n      columns: [\r\n        {\r\n          title: '姓名',\r\n          key: 'residentName'\r\n        },\r\n        {\r\n          title: '性别',\r\n          key: 'sex'\r\n        },\r\n        {\r\n          title: '民族',\r\n          key: 'nation'\r\n        },\r\n        {\r\n          title: '出生日期',\r\n          key: 'birthdate'\r\n        },\r\n        {\r\n          title: '联系方式',\r\n          key: 'contact'\r\n        },\r\n        {\r\n          title: '证件号',\r\n          key: 'idNumber'\r\n        },\r\n        {\r\n          title: '户号',\r\n          key: 'householdId'\r\n        },\r\n        {\r\n          title: '纳入库名单',\r\n          key: 'isInList',\r\n          align: 'center'\r\n        },\r\n        {\r\n          title: '操作',\r\n          key: 'action',\r\n          align: 'center',\r\n          width: 200,\r\n          render: (h, params) => {\r\n            return h('div', [\r\n              h('Button', {\r\n                props: {\r\n                  type: 'text',\r\n                  size: 'small'\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.show(params.row)\r\n                  }\r\n                }\r\n              }, '查看'),\r\n              /* h('Button', {\r\n                props: {\r\n                  type: 'text',\r\n                  size: 'small'\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.edit(params.row)\r\n                  }\r\n                }\r\n              }, '编辑'), */\r\n              h('Button', {\r\n                props: {\r\n                  type: 'text',\r\n                  size: 'small'\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.delete(params.row)\r\n                  }\r\n                }\r\n              }, '删除')\r\n            ])\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      list: state => state.customer.list,\r\n      person: state => state.customer.person,\r\n      total: state => state.customer.total\r\n    })\r\n  },\r\n  mounted () {\r\n    // 获取列表\r\n    this.fetchList()\r\n  },\r\n  methods: {\r\n    fetchList () {\r\n      return this.$store.dispatch(actions.get.RESIDENT_LIST, {\r\n        pageNum: this.pageNum,\r\n        pageSize: this.pageSize\r\n      })\r\n    },\r\n    changePage (num) {\r\n      console.log(num)\r\n      this.pageNum = num\r\n      this.fetchList()\r\n    },\r\n    show (row) {\r\n      this.$store.dispatch(actions.get.RESIDENT_PERSON, row.residentId)\r\n      this.detail.show = true\r\n    },\r\n    edit () {\r\n      console.log('edit')\r\n    },\r\n    delete (row) {\r\n      this.model.data = row\r\n      this.model.content = row.residentName\r\n      this.model.id = row.residentId\r\n      this.model.show = true\r\n    },\r\n    deleteUser () {\r\n      this.model.loading = true\r\n      setTimeout(() => {\r\n        this.model.loading = false\r\n        this.model.show = false\r\n        console.log(this.model.id)\r\n        this.$store.dispatch(actions.delete.RESIDENT_PERSON, this.model.id)\r\n        this.$Message.success('删除成功')\r\n      }, 2000)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.page {\r\n  margin: 20px;\r\n  padding: 20px;\r\n  background-color: #fff;\r\n  border: 1px solid #eee;\r\n  border-radius: 4px;\r\n  .search {\r\n    display: none;\r\n    width: 500px;\r\n    Button {\r\n      margin-left: 10px;\r\n    }\r\n  }\r\n  .button-group {\r\n    margin-top: 20px;\r\n    margin-bottom: 20px;\r\n  }\r\n  .table {\r\n    margin-bottom: 20px;\r\n    Button {\r\n      color: cornflowerblue;\r\n    }\r\n  }\r\n  .pagination {\r\n    width: 100%;\r\n    height: 32px;\r\n    .text {\r\n      float: left;\r\n      line-height: 32px;\r\n    }\r\n    .pager {\r\n      float: right;\r\n    }\r\n  }\r\n}\r\n.detail-table {\r\n  width: 100%;\r\n  font-size: 16px;\r\n  line-height: 32px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/Customer"}]}